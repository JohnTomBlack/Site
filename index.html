<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>John Black</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="wrap">
    <h1 class="name">John Black</h1>
    <div class="buttons">
        <a class="btn fuzzy" href="https://prints.johntomblack.com" target="_blank" rel="noopener noreferrer">
          <span class="btn-inner">Print Store</span>
          <div class="spots">
            <!-- 16 spots -->
            <span class="spot"></span><span class="spot"></span><span class="spot"></span><span class="spot"></span>
            <span class="spot"></span><span class="spot"></span><span class="spot"></span><span class="spot"></span>
            <span class="spot"></span><span class="spot"></span><span class="spot"></span><span class="spot"></span>
            <span class="spot"></span><span class="spot"></span><span class="spot"></span><span class="spot"></span>
          </div>
        </a>
        <a class="btn fuzzy" href="https://instagram.com/JohnTomBlack" target="_blank" rel="noopener noreferrer">
          <span class="btn-inner">Instagram</span>
          <div class="spots">
            <!-- 16 spots -->
            <span class="spot"></span><span class="spot"></span><span class="spot"></span><span class="spot"></span>
            <span class="spot"></span><span class="spot"></span><span class="spot"></span><span class="spot"></span>
            <span class="spot"></span><span class="spot"></span><span class="spot"></span><span class="spot"></span>
            <span class="spot"></span><span class="spot"></span><span class="spot"></span><span class="spot"></span>
          </div>
        </a>
    </div>
  </main>
  <!-- Randomize spot positions and retrigger bursts -->
  <script>
    (function(){
      const fuzzies = document.querySelectorAll('.fuzzy');
      function randomizeSpots(fuzzy){
        const rect = fuzzy.getBoundingClientRect();
        const spots = fuzzy.querySelectorAll('.spot');
        spots.forEach((spot)=>{
          const angle = Math.random()*Math.PI*2;
          const dist = (Math.random()*0.4 + 0.18) * Math.max(rect.width, rect.height);
          const tx = Math.cos(angle)*dist;
          const ty = Math.sin(angle)*dist;
          // Use pixel offsets so calc(-50% + var(--tx)) moves relative to the button center
          spot.style.setProperty('--tx', Math.round(tx) + 'px');
          spot.style.setProperty('--ty', Math.round(ty) + 'px');
          const size = 6 + Math.round(Math.random()*10);
          spot.style.width = size + 'px';
          spot.style.height = size + 'px';
          spot.style.borderRadius = (40 + Math.random()*60) + '%';
          spot.style.animationDelay = (Math.random()*0.35) + 's';
          spot.classList.remove('spew');
          void spot.offsetWidth;
        });
      }
      fuzzies.forEach(f=>{
        if (!f) return;
        randomizeSpots(f);
        f.addEventListener('pointerenter', ()=>{
          randomizeSpots(f);
          const spots = f.querySelectorAll('.spot');
          spots.forEach(s=>{
            s.classList.add('spew');
            const onEnd = ()=>{ s.classList.remove('spew'); s.removeEventListener('animationend', onEnd); };
            s.addEventListener('animationend', onEnd);
          });
        });
        window.addEventListener('resize', ()=> randomizeSpots(f));
      });
    })();
  </script>
</body>
</html>
